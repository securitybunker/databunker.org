---
title: Getting Started with Databunker
linktitle: Getting started
toc: true
type: docs
date: "2019-05-05T00:00:00+01:00"
draft: false
mymenu: doc
# Prev/next pager order (if `docs_section_pager` enabled in `params.toml`)
weight: 5
---
## Databunker intro

Personal data leaks happen daily. To address this problem, Databunker was created to create a secure storage system for PII/PHI and customer records. It was built to prevent **sensitive data exposure** via **SQL injection** and **unfiltered GraphQL queries**. The product provides a better solution to **a regular database encryption** provided by Database or Cloud vendors. In addition, our product is fully GDPR compliant.

Regarding **database encryption**, let's face the truth. Most solutions provide **fake security**. Data is encrypted at the storage or disk level.

If your website has SQL injection or your GraphQL query filter is incorrect, the bad actor will get your **data in cleartext**.

### Solution with Databunker

Instead of talking to Databunker using SQL, your backend will have to call an API function to retrieve specific user details. It is similar to any NoSQL database API. You can only lookup user records if you know his email address, phone number or unique user ID (UUID token).

By default, Databunker does not allow dumping all user records at once. This API call is disabled. Databunker encrypts customer records and builds a secure search index for quick user lookup (i.e. using email, token, etc...).

![Pseudonymized identity](/img/pseudonymized-identity.png)


## 1. Databunker setup
The easiest way to get started with **Databunker** is to run it as a **Docker container**:

```
docker run -p 3000:3000 -d --rm --name dbunker securitybunker/databunker demo
```

This command starts a local container with a `DEMO` root access key. It can be used for **testing** and **development**. For a production installation, follow this [installation guide](https://databunker.org/doc/install/).

#### Connecting to Databunker

You can interact with Databunker using:

- [Web Console](https://demo.databunker.org/) listening on port `3000`: [localhost:3000](http://localhost:3000)
- [REST API](https://documenter.getpostman.com/view/11310294/Szmcbz32) listening on port `3000`: [localhost:3000](http://localhost:3000)


## 2. Move your user records to Databunker

If you want to use **Databunker** in your existing project you need to move customer data to Databunker and adapt your database schema to use ``usertoken`` (using UUID format).

#### Original database schema

In this example, we'll convert the following database schema to use user records stored in Databunker.

![Ogiginal schema](/img/db-original.png)


#### Method 1: simple database reorganization

Using this method will require you to modify only the table of ``users``. You will need to remove all personal data columns from the ``users`` table and leave it only with original ``userid``/``id`` and add ``usertoken``. The ``usertoken``' column will point to the user record UUID generated by Databunker.

![Simple method](/img/db-simple.png)

**Advantages of this method**

This method is suitable if you have a ``userid`` column linked from many tables or you have a very large database. Running the "``alter table``" command can take a lot of time to update your database structure.

**Disadvantages of this method**

One drawback here is that each user now has two identities. One ``userid`` and another ``usertoken``.

#### Method 2: full database reorganization
You will have to go all over tables that have ``userid`` and add ``usertoken`` column instead. The ``usertoken`` is user identity in UUID format generated by Databunker.

![Full reorganization](/img/db-complex.png)

This method will require more changes on your database level and in your application code.


## 3. Some usefull Databunker commands

### Create a user record

```
curl -s http://localhost:3000/v1/user -X POST -H "X-Bunker-Token: DEMO" \
  -H "Content-Type: application/json" \
  -d '{"first":"John","last":"Doe","login":"john","phone":"4444","email":"user@gmail.com"}'
```

### Fetch user records by email

```
curl -s -H "X-Bunker-Token: DEMO" -X GET http://localhost:3000/v1/user/email/user@gmail.com
```

### Fetch user records by login

```
curl -s -H "X-Bunker-Token: DEMO" -X GET http://localhost:3000/v1/user/login/john
```

### Other commands:

For a full list of commands, see the [API document](https://documenter.getpostman.com/view/11310294/Szmcbz32).

## 4. Node.js examples
1. Node.js example implementing passwordless login using Databunker:
https://github.com/securitybunker/databunker-nodejs-passwordless-login

2. Node.js example with Passport.js, Magic.Link and Databunker:
https://github.com/securitybunker/databunker-nodejs-example

3. Secure Session Storage for Node.js apps:
https://databunker.org/use-case/secure-session-storage/#databunker-support-for-nodejs

### Node.js modules

1. `@databunker/store` from https://github.com/securitybunker/databunker-store

2. `@databunker/session-store` from https://github.com/securitybunker/databunker-session-store

## 5. Support / Contact

[Slack Channel](https://join.slack.com/t/databunker/shared_invite/zt-b6ukxzw3-JCxv8NJDESL40haM45RNIA)
